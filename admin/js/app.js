import $ from"jquery";import"select2";import FullEditor from"ckeditor5-build-full";import bootstrap from"./bootstrap/bootstrap.bundle.min.js";$(document).on("click","ul.nav li.parent > a ",(function(){$(this).find("i").toggleClass("fa-minus")})),$((function(){var e=document.getElementById("menu"),t=$(".sidebar span.icon"),a=$("#type"),i=$(".select2"),l=$(".selectimage");$("#status");null!=e&&(document.getElementById("addMenu").addEventListener("click",(function(t){t.preventDefault();var a=document.getElementById("linkNameMenu").value,i=document.getElementById("linkMenu").value,l=document.querySelector("template").content;return l.setAttributes("data-url",i),l.innerHtml=a+l.innerHtml,e.appendChild(document.importNode(l,!0)),!0})),document.getElementById("submitMenu").addEventListener("click",(function(e){return e.preventDefault(),!0}))),t.length>0&&t.find("em:first").addClass("fa-plus"),$("#menu-toggle").length>0&&$("#menu-toggle").on("click",(function(e){e.preventDefault(),$("#wrapper").toggleClass("toggled")})),document.querySelector("#editor")&&FullEditor.create(document.querySelector("#editor"),{toolbar:{items:["exportPDF","exportWord","|","findAndReplace","selectAll","|","heading","|","bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","undo","redo","-","fontSize","fontFamily","fontColor","fontBackgroundColor","highlight","|","alignment","|","link","insertImage","blockQuote","insertTable","mediaEmbed","codeBlock","htmlEmbed","|","specialCharacters","horizontalLine","pageBreak","|","textPartLanguage","|","sourceEditing"],shouldNotGroupWhenFull:!0},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},placeholder:"Entrer ce que vous voulez!",fontFamily:{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},htmlSupport:{allow:[{name:/.*/,attributes:!0,classes:!0,styles:!0}]},htmlEmbed:{showPreviews:!0},link:{decorators:{addTargetToExternalLinks:!0,defaultProtocol:"https://",toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},removePlugins:["CKBox","CKFinder","EasyImage","RealTimeCollaborativeComments","RealTimeCollaborativeTrackChanges","RealTimeCollaborativeRevisionHistory","PresenceList","Comments","TrackChanges","TrackChangesData","RevisionHistory","Pagination","WProofreader","MathType"]}).catch((function(e){console.error(e)})),a.length>0&&a.on("change",(function(){var e=$(this).val(),t=$("#duree"),a=$("#datestart"),i=$("#dateend");["job","school","exp"].includes(e)?(a.show(),$("label[for='"+a.attr("id")+"']").show(),a.attr("required","required"),i.show(),$("label[for='"+i.attr("id")+"']").show(),i.attr("required","required"),t.removeAttr("required"),t.hide(),$("label[for='"+t.attr("id")+"']").hide()):(a.removeAttr("required"),i.removeAttr("required"),a.hide(),$("label[for='"+a.attr("id")+"']").hide(),i.hide(),$("label[for='"+i.attr("id")+"']").hide(),t.show(),$("label[for='"+t.attr("id")+"']").show(),t.attr("required","required"))})),i.length>0&&i.select2({placeholder:"Choississez un tags",multiple:!0,tags:!0,ajax:{delay:250,url:window.appurl+"/admin/tags/ajax",data:function(e){return{term:e.term}},dataType:"json"}}).val($("#preselectedtags").val().split(",")).trigger("change"),l.length>0&&l.select2({placeholder:"Choississez une image",templateResult:function(e){return $('<span><img src="/images/'+e.text.split(".")[0]+'_small.webp" class="" style="max-width:50px; object-fit: contain; height: auto;" /> '+e.text+"</span>")}})}));
